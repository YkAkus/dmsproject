<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chart</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://omnipotent.net/jquery.sparkline/2.1.2/jquery.sparkline.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<!-- <style>
    .redbg{
        fillColor: '#ea2215',
        lineColor: '#f02020'
    }
</style>   -->
</head>
  <body>    
  
    <table class="table table-striped table-hover chart-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>VALUE</th>
                <th>CHART</th>
            </tr>
        </thead>
        <tbody >
        </tbody>
    </table>
    
    <script type="text/javascript">
		$.get("/chart/data", {}, function (response) { 
            var HTML = ""
            var addClass = ""
			for (var i in response.data) {
				HTML += `<tr>
                            <th>${response.data["id",i]}</th>
                            <td class="${addClass}">${response.gdata[i]}</td>
                            <td ><span class="inlinebar" ${addClass}">${response.gdata[i]}</span></td>
                        </tr>`
			}
            HTML += `<tr>
                            <th>11</th>
                            <td>6,38,67,66,65,62,95,18,-43,-68,55,15,61,6,75,18,45,60,41,66,0,0,0,0,0,21,72,73,43,52,75,16,24,83,21,45,76,72,40,24,48,40,50,94,47,9,37,47,69,9</td>
                            <td ><span class="inlinebar">6,38,67,66,65,62,95,18,-43,-68,55,15,61,6,75,18,45,60,41,66,0,0,0,0,0,21,72,73,43,52,75,16,24,83,21,45,76,72,40,24,48,40,50,94,47,9,37,47,69,9</span></td>
                            </tr>`;
			$(".chart-table tbody").html(HTML)
		})
	// }, 2000)
	// End of TEsting prurpose
                    
    $(function() {
        $('.inlinesparkline').sparkline();
        $('.inlinebar').sparkline('html', {type: 'bar',barColor: '#007fff',height: '35',barWidth: 6, negBarColor: 'green',zeroColor: 'red'} );
        // console.log(addClass)
    });
    </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>
</html>